<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DotGothic16&display=swap');
    </style>
    <meta charset="UTF-8">
    <title>CHOPT HARVEST</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">

    <meta name="apple-mobile-web-app-title" content="CHOP">
    <meta name="application-name" content="CHOP">
    <meta name="msapplication-TileColor" content="#2c4a2e">
    <meta name="theme-color" content="#2c4a2e">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
</head>

<body>

    <script
        src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.js"></script>
    <link rel="stylesheet"
        href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.css"
        type="text/css">

    <div class="app-container">
        <div id="search-results-container">
            <p>Find Food Banks in Your Area!</p>
        </div>

        <div id="map"></div>
    </div>

    <div class="chopcorner" onclick="togglePopup()">
        <p>Learn More About Chopt</p>
    </div>
    <div class="popup" id="popup">
        <span class="close-btn" onclick="hidePopup()">X</span>
        <p>Hi everyone,

            My name is Chop! I am the mascot for Chopt Harvest. I was adopted by my owner from the shelter and have made
            it my mission to spread awareness about food insecurity in my community. Please share this with others who
            might be experiencing food insecurity. Hunger does not discriminate.
        </p>
    </div>
    </div>
</body>



<script>


    mapboxgl.accessToken = 'pk.eyJ1IjoibW95YW1zIiwiYSI6ImNrdjE5ZjRyZjJ6d2wzM255Nmh2aWs0dnYifQ.ygL9aNDqoW_y3Yz2mQG05Q';

    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/moyams/cllyd54xq01jl01qi2jqb2ovh',
        center: [-73.98367068654152, 40.75104182476868,],
        zoom: 10,
        hash: true,
    });



    map.addControl(
        new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            trackUserLocation: true,
            showUserHeading: true
        })
    );

    function zoomToUserLocation() {
        if ('geolocation' in navigator) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var userLocation = [position.coords.longitude, position.coords.latitude];
                map.flyTo({
                    center: userLocation,
                    zoom: 12,
                    speed: 1.5
                });
            }, function (error) {
                console.error('Error getting user location:', error);
            });
        } else {
            console.error('Geolocation is not supported by this browser.');
        }
    }


    zoomToUserLocation();


</script>
<script src="script.js"></script>
<script data-goatcounter="https://choptharvest.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

</html>